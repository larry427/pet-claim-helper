# ==============================================================================
# Pet Claim Helper - Environment Variables
# ==============================================================================
#
# This file documents all environment variables used in the application.
# Copy this to .env.local and fill in your actual values.
#
# IMPORTANT SECURITY NOTES:
# - NEVER commit .env.local files to version control
# - Keep SUPABASE_SERVICE_ROLE_KEY and OPENAI_API_KEY server-side only
# - Variables with VITE_ prefix are exposed to the client (use carefully)
# ==============================================================================

# ------------------------------------------------------------------------------
# CLIENT-SIDE VARIABLES (Vite - src/ folder)
# These are bundled into the client code and visible in browser
# ------------------------------------------------------------------------------

# Supabase Configuration (Client)
VITE_SUPABASE_URL=https://YOUR-PROJECT.supabase.co
VITE_SUPABASE_ANON_KEY=YOUR_SUPABASE_ANON_KEY_HERE

# Application URLs
VITE_API_URL=http://localhost:8787
VITE_APP_DASHBOARD_URL=http://localhost:5173


# ------------------------------------------------------------------------------
# SERVER-SIDE VARIABLES (server/.env.local)
# These are NEVER exposed to the client
# ------------------------------------------------------------------------------

# Supabase Configuration (Server)
SUPABASE_URL=https://YOUR-PROJECT.supabase.co
SUPABASE_SERVICE_ROLE_KEY=YOUR_SUPABASE_SERVICE_ROLE_KEY_HERE

# OpenAI API (Server-side only)
OPENAI_API_KEY=sk-proj-YOUR_OPENAI_API_KEY_HERE

# Email Service (Resend)
RESEND_API_KEY=re_YOUR_RESEND_API_KEY_HERE
MAIL_FROM="Pet Claim Helper <noreply@petclaimhelper.com>"

# SMS Service (Twilio)
TWILIO_ACCOUNT_SID=YOUR_TWILIO_ACCOUNT_SID
TWILIO_AUTH_TOKEN=YOUR_TWILIO_AUTH_TOKEN
TWILIO_PHONE_NUMBER=+1XXXXXXXXXX

# Odie Pet Insurance API
# Staging: https://is.staging.getodie.com/api
# Production: (TBD - swap when ready)
ODIE_API_KEY=YOUR_ODIE_API_KEY_HERE
ODIE_API_BASE_URL=https://is.staging.getodie.com/api

# Server Configuration
PORT=8787
APP_DASHBOARD_URL=https://pet-claim-helper.vercel.app

# Internal Admin Secret (for cron jobs and admin endpoints)
# Generate with: openssl rand -hex 32
SERVER_SECRET=YOUR_RANDOM_SECRET_HERE_USE_OPENSSL_RAND_HEX_32

# Admin Authentication
ADMIN_SECRET=YOUR_ADMIN_SECRET_FOR_DEADLINE_REMINDERS


# ==============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ==============================================================================
#
# Vercel Environment Variables (add in dashboard):
#
# CLIENT-SIDE (exposed):
# - VITE_SUPABASE_URL
# - VITE_SUPABASE_ANON_KEY
# - VITE_API_URL (set to your production API URL)
# - VITE_APP_DASHBOARD_URL (set to https://pet-claim-helper.vercel.app)
#
# SERVER-SIDE (secrets - NOT exposed):
# - SUPABASE_URL
# - SUPABASE_SERVICE_ROLE_KEY
# - OPENAI_API_KEY
# - RESEND_API_KEY
# - TWILIO_ACCOUNT_SID
# - TWILIO_AUTH_TOKEN
# - TWILIO_PHONE_NUMBER
# - SERVER_SECRET (generate new for production!)
# - ADMIN_SECRET (generate new for production!)
#
# ==============================================================================


# ==============================================================================
# SECURITY NOTES
# ==============================================================================
#
# 1. API KEY SECURITY:
#    - SUPABASE_SERVICE_ROLE_KEY bypasses Row Level Security - keep server-side!
#    - OPENAI_API_KEY must NEVER be exposed client-side
#    - SERVER_SECRET protects internal admin endpoints
#    - ADMIN_SECRET protects cron job triggers
#
# 2. ENVIRONMENT VARIABLE NAMING:
#    - VITE_ prefix = exposed to client (public, safe for browsers)
#    - No prefix = server-side only (secrets, never exposed)
#
# 3. ROW LEVEL SECURITY (RLS):
#    - VITE_SUPABASE_ANON_KEY respects RLS policies
#    - SUPABASE_SERVICE_ROLE_KEY bypasses RLS (admin access)
#
# 4. ROTATING SECRETS:
#    - Rotate SERVER_SECRET and ADMIN_SECRET periodically
#    - Update Vercel environment variables after rotation
#    - Rotate OpenAI API key if ever exposed client-side
#
# ==============================================================================


# ==============================================================================
# DEVELOPMENT SETUP
# ==============================================================================
#
# 1. Copy this file:
#    cp .env.example .env.local
#
# 2. Copy for server:
#    cp .env.example server/.env.local
#
# 3. Get Supabase keys:
#    - Go to https://supabase.com/dashboard
#    - Select your project
#    - Settings â†’ API
#    - Copy URL, anon key, and service_role key
#
# 4. Get OpenAI API key:
#    - Go to https://platform.openai.com/api-keys
#    - Create new secret key
#
# 5. Get Resend API key:
#    - Go to https://resend.com/api-keys
#    - Create new API key
#
# 6. Get Twilio credentials:
#    - Go to https://console.twilio.com
#    - Get Account SID, Auth Token, and phone number
#
# 7. Generate admin secrets:
#    openssl rand -hex 32
#
# ==============================================================================
